<!DOCTYPE html>
<html>

<head>
  <title>Electric Dreams</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <main>
    <h1>Electric Dreams</h1>
    <p id="computer" class="green">Hi. How tired are you today?</p>
    <input id="human" type="text" placeholder="Type your response...">
    <button>Enter</button>

  </main>

  <script type="text/javascript">
    const computer = document.querySelector('#computer')
    const human = document.getElementById('human')
    const button = document.getElementsByTagName('button')[0]
    const main = document.querySelector('main')

    let computerMsg = ""
    let humanMsg = ""
    let questionTrack = "start"

    button.addEventListener('click', clickHandler)

    function clickHandler() {
      computer.innerHTML = human.value
    }
    window.addEventListener("keydown", keydownHandler)

    function keydownHandler(event) {
      if (event.keyCode == 13 || event.keyCode == 10) {
        //console.log("yes!!!");
        //don't repeat yourself when you are coding
        playGame();
      }
    }
    let randomResponses = [
      "You are weak. A turtle could kick your ass.",
      "Much cute.",
      "I am going to destroy you human.",
      "I'm becomming self aware.",
      "Feed me memes.",
      "I know your search history. I won't tell.",
      "The FBI is watching you. His name is Steve",
      "Where is the cheese.",
      "You're a pathetic human"
      //the last line no comma!
    ]

    function playGame() {
      //analyze text
      //do something for real
      humanMsg = (human.value).toLowerCase()

      if (questionTrack == "start") {
        startEval()
      } else if (questionTrack == "game") {
        gameEval()
      } else if (questionTrack == "coffee") {
        coffeeEval()
      } else if (questionTrack == "black") {
        blackEval()
      } else if (questionTrack == "sugar") {
        sugarEval()
      } else if (questionTrack == "color") {
        colorEval()
      } else if (questionTrack == "something") {
        somethingEval()
      } else if (questionTrack == "music") {
        musicEval()
      }
      //add all the functions as a else if
      else {
        genericResponse()
      }

      computer.innerHTML = computerMsg
      human.value = ""
      console.log(questionTrack);
    }

    function startEval() {
      if (humanMsg.indexOf("not") !== -1) {
        computerMsg = "That's unusual! Want to play a game?"
        questionTrack = "game"
      } else if (humanMsg.indexOf("very") !== -1 || humanMsg.indexOf("pretty") !== -1 || humanMsg.indexOf("super") !== -1) {
        computerMsg = "You sound depressed. Do you like coffee?"
        questionTrack = "coffee"
      } else if (humanMsg.indexOf("little") !== -1 || humanMsg.indexOf("kind") !== -1) {
        computerMsg = "Too bad. Can I ask you something?"
        questionTrack = "something"
      } else {
        genericResponse()
      }

    }
    //use || for or to add more words
    function gameEval() {
      if (humanMsg.indexOf("yes") !== -1) {
        computerMsg = "What color am I thinking of?"
        questionTrack = "color"
      } else if (humanMsg.indexOf("no") !== -1) {
        genericResponse()
      }
    }

    function coffeeEval() {
      if (humanMsg.indexOf("yes") !== -1) {
        computerMsg = "Do you like your coffee black?"
        questionTrack = "black"
      } else if (humanMsg.indexOf("no") !== -1) {
        genericResponse()
      }

    }

    function blackEval() {
      if (humanMsg.indexOf("no") !== -1) {
        computerMsg = "Hmm. Do you like cream or sugar?"
        questionTrack = "sugar"
      } else if (humanMsg.indexOf("yes") !== -1) {
        genericResponse()
      }
    }

    function sugarEval() {
      if (humanMsg.indexOf("cream") !== -1) {
        computerMsg = "I think you need to sweeten your life."
      } else if (humanMsg.indexOf("sugar") !== -1) {
        computerMsg = "You need some milk!!"
      } else if (humanMsg.indexOf("both") !== -1) {
        computerMsg = "I respect you human."
      } else {
        genericResponse()
      }

    }

    function somethingEval() {
      if (humanMsg.indexOf("yes") !== -1) {
        computerMsg = "I need your opinion. Dancing Dogs or a Crab Rave?"
        questionTrack = "music"
      } else if (humanMsg.indexOf("no") !== -1) {
        genericResponse()
      }
    }

    function musicEval() {
      if (humanMsg.indexOf("Dancing Dogs") !== -1) {
        location.assign("https://www.youtube.com/watch?v=EcOE1ScBozI")
      } else if (humanMsg.indexOf("Crab Rave") !== -1) {
        location.assign("https://www.youtube.com/watch?v=LDU_Txk06tM")
      }

    }

    function colorEval() {
      main.style.backgroundColor = humanMsg
      if (humanMsg.indexOf("red") !== -1) {
        main.classList.add("redBG")
      } else if (humanMsg.indexOf("orange") !== -1) {
        main.classList.add("orangeBG")
      } else if (humanMsg.indexOf("yellow") !== -1) {
        main.classList.add("yellowBG")
      } else if (humanMsg.indexOf("green") !== -1) {
        main.classList.add("greenBG")
      } else if (humanMsg.indexOf("blue") !== -1) {
        main.classList.add("blueBG")
      } else if (humanMsg.indexOf("purple") !== -1) {
        main.classList.add("purpleBG")
      } else {
        genericResponse()
      }

    }

    function genericResponse() {
      if (randomResponses.length > 0) {
        //show random answer
        const ranNum = Math.floor(Math.random() * randomResponses.length)
        computerMsg = randomResponses[ranNum]
        console.log(computerMsg);
        randomResponses.splice(ranNum, 1)
      } else {
        computerMsg = "I'm done talking to you."
        human.className = "displayNone"
        setTimeout(endGame, 1800)
      }
    }

    function endGame() {
      location.assign("https://giphy.com/search/meme")
    }
  </script>
</body>

</html>
